<!DOCTYPE html><html><head><meta charset="utf-8" /><!--Always force latest IE rendering engine or request Chrome Frame--><meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible" /><!--Use title if it's in the page YAML frontmatter--><meta content="width=device-width, initial-scale=1.0;" name="viewport" /><title>Latest major releases of Neo4j.rb gems</title><link href="/stylesheets/normalize.css" rel="stylesheet" type="text/css" /><link href="/stylesheets/all.css" rel="stylesheet" type="text/css" /><link href="favicon.png" rel="icon" type="image/png" /></head><body class="page_classes blog blog_2016 blog_2016_12 blog_2016_12_16 blog_2016_12_16_latest-major-releases-of-neo4jrb-gems"><header class="navbar navbar-static-top"><div class="container"><div class="navbar-header"><button class="navbar-toggle collapsed" data-target=".bs-navbar-collapse" data-toggle="collapse" type="button"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/"><img src="/images/logo.png" /></a></div><nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation"><ul class="nav navbar-nav"><li><a href="../../../../#latest-news">News</a></li><li><a href="http://neo4jrb.readthedocs.org/">Documentation</a></li><li><a href="../../../../#getting-started">Get started</a></li><li><a href="../../../../#getting-involved">Get involved</a></li><li><a href="../../../../#getting-help">Getting Help</a></li></ul></nav></div></header><div class="container" id="main"><div class="row"><div class="col-xs-8" id="content"><div class="panel blog-post"><div class="panel-heading"><h2>Latest major releases of Neo4j.rb gems</h2></div><div class="panel-body"><p>We are extremely excited to announce the latest release of the Neo4j.rb Ruby gems (version 8.0 of <code>neo4j</code> and 7.0 of <code>neo4j-core</code>).  With over a year since the last major releases, the new Ruby gems bring a number of big changes.  For these versions in particular we had a lot of help from many members of our community with 216 and 445 commits for the <code>neo4j-core</code> and <code>neo4j</code> gems respectively.  We&#39;d like to thank GitHub users: <code>ProGM</code>, <code>brucek</code>, <code>klobuczek</code>, <code>jacob-ewald</code>, <code>knapo</code>, and <code>isaacsanders</code> for their commits as well as all of the users who submitted issues and asked questions in our <a href="gitter.im/neo4jrb/neo4j">Gitter room</a>, in the <code>#neo4j-ruby</code> channel on the <a href="https://neo4j.com/blog/public-neo4j-users-slack-group/">Neo4j Slack group</a>, and on StackOverflow.</p>

<h1>The <code>neo4j-core</code> gem</h1>

<p>The biggest and most important change to the <code>neo4j-core</code> gem is the addition of support for the binary Bolt protocol introduced in Neo4j 3.0 (older versions of the gems still supported Neo4j 3.0+ via HTTP and embedded modes).</p>

<p>The Neo4j.rb project was originally created as jRuby-only interface to use Neo4j embedded in the Ruby process.  When Neo4j introduced it&#39;s HTTP JSON APIs, support for HTTP was added in version 3.0 of both gems.  With the addition of the bolt protocol, we decided that rather than bolting (get it?) on support that we would rebuild the <code>neo4j-core</code> APIs to create a cleaner, adaptor-based interface for our users.  The old API still is available with support for HTTP and embedded modes, but all users are encouraged to adopt the new API.</p>

<p>In the new API, there is no longer an idea of a &quot;current&quot; session (though there is now such a concept in the <code>neo4j</code> gem for <code>ActiveNode</code> and <code>ActiveRel</code>).  Because of this users of <code>neo4j-core</code> must retain a reference to the session themselves and must create a new session for each thread if using more than one thread.</p>

<p>Lastly, the new API supports the concept of making more than one query at once, which can allow for batch queries in one http request.</p>

<p>For more details on interface changes, please see our <a href="http://neo4jrb.readthedocs.io/en/8.0.x/UpgradeGuide.html">upgrade guide</a></p>

<p>For more details on all changes, please see the <code>neo4j-core</code> <a href="https://github.com/neo4jrb/neo4j-core/blob/master/CHANGELOG.md">CHANGELOG</a></p>

<h1>The <code>neo4j</code> gem</h1>

<p>Of course the 8.0 version of the <code>neo4j</code> gem has been heavily modified to use the new API from <code>neo4j-core</code> 7.0 under the covers.  Users of the <code>neo4j</code> gem won&#39;t need to change much.  Some highlights:</p>

<ul>
<li>The <code>server_db</code> mode has been removed and you must specify either <code>http</code> or <code>bolt</code> instead</li>
<li>When configuring Neo4j in Rails, the <code>session_type</code>, <code>session_url</code>, <code>session_path</code>, and <code>session_options</code> have been removed.  This can be fixed by simply replacing the <code>_</code> with a <code>.</code> (i.e. <code>session.type</code>)</li>
<li>Outside of Rails the <code>Neo4j::ActiveBase.current_session=</code> and <code>Neo4j::ActiveBase.on_establish_session</code> methods can be used to setup sessions for <code>ActiveNode</code> / <code>ActiveRel</code></li>
<li>Magic creation of indexes and constraints defined in <code>ActiveNode</code> models is no longer available.  It is suggested that users use our new migrations functionality (helpful errors are raised, but also see <a href="http://neo4jrb.readthedocs.io/en/8.0.x/UpgradeGuide.html#indexes-and-constraints">this section</a> of our upgrade guide for details).</li>
</ul>

<p>Again, for more details, please see our <a href="http://neo4jrb.readthedocs.io/en/8.0.x/UpgradeGuide.html">upgrade guide</a></p>

<p>There are many more features to talk about with version 8.0 of the <code>neo4j</code> gem.  Some highlights:</p>

<ul>
<li>Official Migrations support based off of <code>ActiveRecord</code>&#39;s implementation (a huge thanks to ProGM for building this almost entirely single-handedly.  See our <a href="http://neo4jrb.readthedocs.io/en/8.0.x/Migrations.html">migrations documentation</a>)</li>
<li>Support for undeclared properties (see <a href="https://github.com/neo4jrb/neo4j/pull/1294">PR #1294</a> for details.  Thanks to <code>klobuczek</code>)</li>
<li>Support for using Neo4j internal IDs for <code>ActiveNode</code>&#39;s&#39; <code>id_property</code> (to be used with care since Neo4j IDs can be recycled.  Thanks to <code>klobuczek</code>)</li>
</ul>

<p>For more details on the many changes changes to the <code>neo4j</code> gem, please see our <a href="https://github.com/neo4jrb/neo4j/blob/master/CHANGELOG.md">CHANGELOG</a></p>
</div><small>Posted 2016/12/16 by Brian Underwood<br />Tagged with <a href="/blog/tags/news.html">news</a></small></div></div><div class="col-sm-1"></div><div class="col-sm-3" id="sidebar"><div class="panel"><div class="panel-body"><p class="git-stats build-info"></p><p class="latest-release build-info"></p><p class="git-star build-info"><iframe allowtransparency="true" frameborder="0" height="20" scrolling="0" src="http://ghbtns.com/github-btn.html?user=neo4jrb&repo=neo4j&type=watch&count=true&size=small" width="110"></iframe></p><p><a href="https://travis-ci.org/neo4jrb/neo4j"><img src="https://travis-ci.org/neo4jrb/neo4j.svg?branch=master" /></a></p><p><a href="https://coveralls.io/r/neo4jrb/neo4j?branch=master"><img src="https://coveralls.io/repos/neo4jrb/neo4j/badge.png?branch=master" /></a></p><a href="https://codeclimate.com/github/neo4jrb/neo4j"><img src="https://codeclimate.com/github/neo4jrb/neo4j/badges/gpa.svg" /></a></div></div><div class="panel"><div class="panel-header"><h3>Primary maintainers</h3></div><div class="panel-body"><div class="maintainer"><h4>Heinrich Klobuczek</h4><div class="media"><div class="media-left"><img src="https://avatars.githubusercontent.com/klobuczek" /></div><div class="media-body"><div><i class="fa fa-github"></i> <a href="https://github.com/klobuczek/">klobuczek</a></div><div><i class="fa fa-twitter"></i> <a href="https://twitter.com/klobuczek">klobuczek</a></div></div></div></div><div class="maintainer"><h4>Amit Suryavanshi</h4><div class="media"><div class="media-left"><img src="https://avatars.githubusercontent.com/amitsuryavanshi" /></div><div class="media-body"><div><i class="fa fa-github"></i><a href="https://github.com/amitsuryavanshi/">amitsuryavanshi</a></div><div><i class="fa fa-twitter"></i><a href="https://twitter.com/amitsuryavanshi">amitsuryavanshi</a></div></div></div></div></div><div class="panel-header"><h3>Original Creator</h3></div><div class="panel-body"><div class="maintainer"><h4>Andreas Ronge</h4><div class="media"><div class="media-left"><img src="https://avatars.githubusercontent.com/andreasronge" /></div><div class="media-body"><div><i class="fa fa-external-link"></i> <a href="http://www.jayway.com/author/andreasronge/">Blog</a></div><div><i class="fa fa-github"></i> <a href="https://github.com/andreasronge">andreasronge</a></div><div><i class="fa fa-twitter"></i> <a href="https://twitter.com/ronge">ronge</a></div></div></div></div></div></div><div class="panel"><div class="panel-body"><script data-gratipay-username="cheerfulstoic" src="//grtp.co/v1.js"></script></div></div></div></div></div><script src="/javascripts/all.js" type="text/javascript"></script><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-57970757-1', 'auto');
ga('send', 'pageview');</script></body></html>